{"ast":null,"code":"import _slicedToArray from\"/home/fajar/e-commerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{Link,useParams}from\"react-router-dom\";import'./Detail.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Detail=function Detail(){var _useParams=useParams(),id=_useParams.id;// console.log(id);\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),barang=_useState2[0],setBarang=_useState2[1];useEffect(function(){// console.log(\"ok2\");\n// memanggil API untuk mengambil data barang\nfetch(\"http://127.0.0.1:8000/api/barang/\"+id).then(function(res){// console.log(res.json);\nreturn res.json();}).then(function(data){// ketika Rest API sukses, simpan data dari response ke dalam state lokal\nsetBarang(data);// console.log(data);\n}).catch(function(err){if(err.name===\"AbortError\"){console.log(\"fetch aborted.\");}});},[]);// console.log(localStorage.getItem('User'));\nvar handleClick=function handleClick(){// console.log(JSON.stringify(barang));\n// console.log(JSON.parse(localStorage.getItem('Keranjang')));\nvar data1=JSON.parse(localStorage.getItem('Keranjang'));if(data1==null)data1=[];// let data2 = [];\nvar data2={id:barang.id_barang,jumlah:1,data:barang};// let data2 = \n// { id : 2,\n//   jumlah:1,\n//   data: barang\n// };\n// let data2 = JSON.parse(localStorage.getItem('Keranjang'));\ndata1.push(data2);// console.log(data1);\nlocalStorage.setItem('Keranjang',JSON.stringify(data1));// localStorage.setItem('Keranjang', JSON.stringify(barang));\n// console.log(localStorage.getItem('Keranjang'));\nvar obj_data=JSON.parse(localStorage.getItem('Keranjang'));console.log(obj_data);};return/*#__PURE__*/_jsx(\"div\",{class:\"container container_detail\",children:/*#__PURE__*/_jsx(\"div\",{class:\"row mb-2\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-auto d-none d-lg-block col-img\",children:/*#__PURE__*/_jsx(\"img\",{src:\"http://127.0.0.1:8000/images/\"+barang.url,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{class:\"col p-4 d-flex flex-column position-static\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"row line-bott\",children:/*#__PURE__*/_jsx(\"h5\",{children:barang.nama_barang})}),/*#__PURE__*/_jsx(\"div\",{class:\"row line-bott\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"5.5\\\" Retina HD Display with 3D Touch\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Fingerprint-resistant oleophobic coating\"}),/*#__PURE__*/_jsx(\"li\",{children:\"A9 chip with 64-bit\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Ultrafast 4G LTE Advanced wireless\"}),/*#__PURE__*/_jsx(\"li\",{children:\"New 12-megapixel iSight camera\"})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"text-center\",children:/*#__PURE__*/_jsx(Link,{to:{pathname:\"/keranjang\"},children:/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,type:\"button\",class:\"button-beli btn btn-secondary btn-lg\",children:\"Tambah Ke Keranjang\"})})})]})]})})})});};// function Detail(props1) {\n//   // const name = props.match.params.name\n//   // const fullName = props.location.state.name\n//   // const bornDate = props.location.state.born\n// // console.log(props.location.state.name);\n// // console.log(props1.location.state.name);\n//   return (\n//     <>\n//       ok\n//     </>\n//   )\n// }\nexport default Detail;","map":{"version":3,"sources":["/home/fajar/e-commerce/src/components/Detail.js"],"names":["useEffect","useState","Link","useParams","Detail","id","barang","setBarang","fetch","then","res","json","data","catch","err","name","console","log","handleClick","data1","JSON","parse","localStorage","getItem","data2","id_barang","jumlah","push","setItem","stringify","obj_data","url","nama_barang","pathname"],"mappings":"4GAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,IAAT,CAAcC,SAAd,KAA+B,kBAA/B,CACA,MAAO,cAAP,C,wFAEA,GAAMC,CAAAA,MAAM,CAAI,QAAVA,CAAAA,MAAU,EAAM,CACpB,eAAeD,SAAS,EAAxB,CAAQE,EAAR,YAAQA,EAAR,CACA;AAEA,cAA4BJ,QAAQ,CAAC,EAAD,CAApC,wCAAOK,MAAP,eAAeC,SAAf,eAEAP,SAAS,CAAC,UAAM,CACd;AACA;AACAQ,KAAK,CAAC,oCAAoCH,EAArC,CAAL,CACGI,IADH,CACQ,SAACC,GAAD,CAAS,CACb;AACA,MAAOA,CAAAA,GAAG,CAACC,IAAJ,EAAP,CACD,CAJH,EAKGF,IALH,CAKQ,SAACG,IAAD,CAAU,CACd;AACAL,SAAS,CAACK,IAAD,CAAT,CACA;AACD,CATH,EAUGC,KAVH,CAUS,SAACC,GAAD,CAAS,CACd,GAAIA,GAAG,CAACC,IAAJ,GAAa,YAAjB,CAA+B,CAC7BC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACD,CACF,CAdH,EAeD,CAlBQ,CAkBN,EAlBM,CAAT,CAmBA;AAEA,GAAMC,CAAAA,WAAW,CAAC,QAAZA,CAAAA,WAAY,EAAK,CACrB;AACA;AACA,GAAIC,CAAAA,KAAK,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAZ,CACA,GAAGJ,KAAK,EAAI,IAAZ,CAAkBA,KAAK,CAAG,EAAR,CAElB;AACA,GAAIK,CAAAA,KAAK,CACT,CAAEnB,EAAE,CAAGC,MAAM,CAACmB,SAAd,CACEC,MAAM,CAAC,CADT,CAEEd,IAAI,CAAEN,MAFR,CADA,CAKA;AACA;AACA;AACA;AACA;AACA;AACAa,KAAK,CAACQ,IAAN,CAAWH,KAAX,EAEA;AACAF,YAAY,CAACM,OAAb,CAAqB,WAArB,CAAkCR,IAAI,CAACS,SAAL,CAAeV,KAAf,CAAlC,EACA;AACA;AACA,GAAIW,CAAAA,QAAQ,CAACV,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAb,CACAP,OAAO,CAACC,GAAR,CAAYa,QAAZ,EACD,CA1BD,CA4BA,mBAEE,YAAK,KAAK,CAAC,4BAAX,uBAEE,YAAK,KAAK,CAAC,UAAX,uBACE,YAAK,KAAK,CAAC,WAAX,uBACE,aAAK,KAAK,CAAC,8FAAX,wBACE,YAAK,KAAK,CAAC,oCAAX,uBACE,YAAK,GAAG,CAAE,gCAAgCxB,MAAM,CAACyB,GAAjD,CAAsD,GAAG,CAAC,EAA1D,EADF,EADF,cAKE,aAAK,KAAK,CAAC,4CAAX,wBACE,YAAK,KAAK,CAAC,eAAX,uBAEE,oBAAKzB,MAAM,CAAC0B,WAAZ,EAFF,EADF,cAKE,YAAK,KAAK,CAAC,eAAX,uBACE,mCACE,6DADF,cAEE,gEAFF,cAGE,2CAHF,cAIE,0DAJF,cAKE,sDALF,GADF,EALF,cAcE,YAAK,KAAK,CAAC,aAAX,uBACE,KAAC,IAAD,EAAM,EAAE,CAAE,CAACC,QAAQ,CAAE,YAAX,CAAV,uBACA,eAAQ,OAAO,CAAEf,WAAjB,CAA8B,IAAI,CAAC,QAAnC,CAA4C,KAAK,CAAC,sCAAlD,iCADA,EADF,EAdF,GALF,GADF,EADF,EAFF,EAFF,CAqCD,CA5FD,CA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAed,CAAAA,MAAf","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Link,useParams } from \"react-router-dom\";\nimport './Detail.css'\n\nconst Detail  = () => { \n  const { id } = useParams();\n  // console.log(id);\n\n  const [barang, setBarang] = useState([]);\n\n  useEffect(() => {\n    // console.log(\"ok2\");\n    // memanggil API untuk mengambil data barang\n    fetch(\"http://127.0.0.1:8000/api/barang/\"+id)\n      .then((res) => {\n        // console.log(res.json);\n        return res.json();\n      })\n      .then((data) => {\n        // ketika Rest API sukses, simpan data dari response ke dalam state lokal\n        setBarang(data);\n        // console.log(data);\n      })\n      .catch((err) => {\n        if (err.name === \"AbortError\") {\n          console.log(\"fetch aborted.\");\n        }\n      });\n  }, []);\n  // console.log(localStorage.getItem('User'));\n\n  const handleClick=() =>{\n    // console.log(JSON.stringify(barang));\n    // console.log(JSON.parse(localStorage.getItem('Keranjang')));\n    let data1 = JSON.parse(localStorage.getItem('Keranjang'));\n    if(data1 == null) data1 = [];\n\n    // let data2 = [];\n    let data2 = \n    { id : barang.id_barang,\n      jumlah:1,\n      data: barang\n    };\n    // let data2 = \n    // { id : 2,\n    //   jumlah:1,\n    //   data: barang\n    // };\n    // let data2 = JSON.parse(localStorage.getItem('Keranjang'));\n    data1.push(data2);\n\n    // console.log(data1);\n    localStorage.setItem('Keranjang', JSON.stringify(data1));\n    // localStorage.setItem('Keranjang', JSON.stringify(barang));\n    // console.log(localStorage.getItem('Keranjang'));\n    let obj_data=JSON.parse(localStorage.getItem('Keranjang'));\n    console.log(obj_data);\n  }\n\n  return (\n\n    <div class=\"container container_detail\">\n\n      <div class=\"row mb-2\">\n        <div class=\"col-md-12\">\n          <div class=\"row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative\">\n            <div class=\"col-auto d-none d-lg-block col-img\" >\n              <img src={\"http://127.0.0.1:8000/images/\"+barang.url} alt=\"\" />\n\n            </div>\n            <div class=\"col p-4 d-flex flex-column position-static\">\n              <div class=\"row line-bott\" >\n                {/* <h5>Apple iPhone 6S Plus (16GB) Silver - #89270182</h5> */}\n                <h5>{barang.nama_barang}</h5>\n              </div>\n              <div class=\"row line-bott\" >\n                <ul>\n                  <li>5.5\" Retina HD Display with 3D Touch</li>\n                  <li>Fingerprint-resistant oleophobic coating</li>\n                  <li>A9 chip with 64-bit</li>\n                  <li>Ultrafast 4G LTE Advanced wireless</li>\n                  <li>New 12-megapixel iSight camera</li>\n                </ul>\n              </div>\n              <div class=\"text-center\">\n                <Link to={{pathname: \"/keranjang\",}}>\n                <button onClick={handleClick} type=\"button\" class=\"button-beli btn btn-secondary btn-lg\">Tambah Ke Keranjang</button>\n              </Link>                \n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// function Detail(props1) {\n//   // const name = props.match.params.name\n//   // const fullName = props.location.state.name\n//   // const bornDate = props.location.state.born\n// // console.log(props.location.state.name);\n// // console.log(props1.location.state.name);\n//   return (\n//     <>\n//       ok\n//     </>\n//   )\n// }\nexport default Detail;"]},"metadata":{},"sourceType":"module"}